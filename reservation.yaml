# Topology : simple
# Storage per group except compute : 
# Backend for Glance : local
# Locality : nantes
# Type of node : econome

---
# ############################################### #
# Grid'5000 reservation parameters                #
# ############################################### #
provider:
  type: g5k
  name: 'Enos'
  walltime: '12:00:00'
  # reservation: '2018-01-26 23:16:00'
  # mandatory : you need to have exacly one vlan
  vlans:
     nantes: "{type='kavlan'}/vlan=1"
  # Be less strict on node distribution especially
  # when nodes are missing in the reservation
  # or not deployed
  role_distribution: debug


topology:
  grp1:
   econome:
      control: 1
      network: 1

  grp2:
    econome:
      compute: 1

network_constraints:
  enable: true
  constraints:
    -
      src: grp1
      dst: grp2
      delay: 10ms
      rate: 1gbit
      loss: 0%
      symetric: true


# ############################################### #
# Inventory to use                                #
# ############################################### #

# This will describe the topology of your services
inventory: inventories/inventory.sample

# ############################################### #
# docker registry parameters
# ############################################### #

# A registry will be deployed and used during the deployment
registry:
  type: internal

# ############################################### #
# Enos Customizations                             #
# ############################################### #
enable_monitoring: no


# ############################################### #
# Kolla parameters                                #
# ############################################### #
# Repository
kolla_repo: "https://git.openstack.org/openstack/kolla-ansible"
kolla_ref: "stable/pike"

# Vars : globals.yml
kolla:
  kolla_base_distro: "centos"
  kolla_install_type: "source"
  docker_namespace: "beyondtheclouds"
  openstack_release: "5.0.1"
  neutron_plugin_agent: "linuxbridge"
  enable_openvswitch: "no"
  enable_trove: "no"
  enable_designate: "no"
  enable_octavia: "no"
  enable_heat: "no"
  enable_horizon: "yes"

